/**
 * Twitter - http://twitter.com
 * Copyright (C) 2010 Twitter
 * Author: Dustin Diaz (dustin@twitter.com)
 *
 * V 2.2.5 Twitter search/profile/faves/list widget
 * http://twitter.com/widgets
 * For full documented source see http://twitter.com/javascripts/widgets/widget.js
 * Hosting and modifications of the original source IS allowed.
 **/
TWTR=window.TWTR||{},Array.forEach||(Array.prototype.filter=function(t,e){for(var i=e||window,s=[],r=0,n=this.length;n>r;++r)t.call(i,this[r],r,this)&&s.push(this[r]);return s},Array.prototype.indexOf=function(t){for(var e=0;e<this.length;++e)if(this[e]===t)return e;return-1}),function(){function t(t,e,i){for(var s=0,r=t.length;r>s;++s)e.call(i||window,t[s],s,t)}function e(t,e,i){this.el=t,this.prop=e,this.from=i.from,this.to=i.to,this.time=i.time,this.callback=i.callback,this.animDiff=this.to-this.from}function i(t){for(var e,i,o,t=t||window.event,l=t.target||t.srcElement;l&&"a"!==l.nodeName.toLowerCase();)l=l.parentNode;l&&"a"===l.nodeName.toLowerCase()&&l.href&&(e=l.href.match(s))&&(e=e[2]in r?420:560,i=Math.round(h/2-275),o=0,a>e&&(o=Math.round(a/2-e/2)),window.open(l.href,"intent",n+",width=550,height="+e+",left="+i+",top="+o),t.returnValue=!1,t.preventDefault&&t.preventDefault())}if(!TWTR||!TWTR.Widget){e.canTransition=function(){var t=document.createElement("twitter");return t.style.cssText="-webkit-transition: all .5s linear;",!!t.style.webkitTransitionProperty}(),e.prototype._setStyle=function(t){switch(this.prop){case"opacity":this.el.style[this.prop]=t,this.el.style.filter="alpha(opacity="+100*t+")";break;default:this.el.style[this.prop]=t+"px"}},e.prototype._animate=function(){this.now=new Date,this.diff=this.now-this.startTime,this.diff>this.time?(this._setStyle(this.to),this.callback&&this.callback.call(this),clearInterval(this.timer)):(this.percentage=Math.floor(this.diff/this.time*100)/100,this.val=this.animDiff*this.percentage+this.from,this._setStyle(this.val))},e.prototype.start=function(){var t=this;this.startTime=new Date,this.timer=setInterval(function(){t._animate.call(t)},15)},TWTR.Widget=function(t){this.init(t)},function(){function i(t,e,i){this.job=t,this.decayFn=e,this.interval=i,this.decayRate=1,this.decayMultiplier=1.25,this.maxDecayTime=18e4}function s(t,e,i){this.time=t||6e3,this.loop=e||!1,this.repeated=0,this.callback=i,this.haystack=[]}function r(t){var e='<div class="twtr-tweet-wrap"> <div class="twtr-avatar"> <div class="twtr-img"><a target="_blank" href="http://twitter.com/intent/user?screen_name='+t.user+'"><img alt="'+t.user+' profile" src="'+o(t.avatar)+'"></a></div> </div> <div class="twtr-tweet-text"> <p> <a target="_blank" href="http://twitter.com/intent/user?screen_name='+t.user+'" class="twtr-user">'+t.user+"</a> "+t.tweet+' <em><a target="_blank" class="twtr-timestamp" time="'+t.timestamp+'" href="http://twitter.com/'+t.user+"/status/"+t.id+'">'+t.created_at+'</a> &middot;<a target="_blank" class="twtr-reply" href="http://twitter.com/intent/tweet?in_reply_to='+t.id+'">reply</a> &middot; <a target="_blank" class="twtr-rt" href="http://twitter.com/intent/retweet?tweet_id='+t.id+'">retweet</a> &middot; <a target="_blank" class="twtr-fav" href="http://twitter.com/intent/favorite?tweet_id='+t.id+'">favorite</a> </em> ';t=t.needle.metadata&&t.needle.metadata.result_type&&"popular"==t.needle.metadata.result_type?'<span class="twtr-popular">'+t.needle.metadata.recent_retweets+"+ recent retweets</span>":"",e=e+t+" </p> </div> </div>",t=document.createElement("div"),t.id="tweet-id-"+ ++r._tweetCount,t.className="twtr-tweet",t.innerHTML=e,this.element=t}var n={},a=location.protocol.match(/https/),h=/^.+\/profile_images/,o=function(t){return a?t.replace(h,"https://s3.amazonaws.com/twitter_production/profile_images"):t},l={},c=function(t,e,i,s){var i=i||document,r=[],e=i.getElementsByTagName(e||"*"),i=l[t];i||(i=RegExp("(?:^|\\s+)"+t+"(?:\\s+|$)"),l[t]=i);for(var t=i,i=0,n=e.length;n>i;++i)t.test(e[i].className)&&(r[r.length]=e[i],s&&s.call(e[i],e[i]));return r},u=navigator.userAgent.match(/MSIE\s([^;]*)/),d=function(t){return"string"==typeof t?document.getElementById(t):t},f=function(){var t=self.innerHeight,e=document.compatMode;return(e||u)&&(t="CSS1Compat"==e?document.documentElement.clientHeight:document.body.clientHeight),t},m=function(t){try{t.parentNode.removeChild(t)}catch(e){}},w=function(t){var e,i=t.relatedTarget;i||("mouseout"==t.type?i=t.toElement:"mouseover"==t.type&&(i=t.fromElement));t:{try{e=i&&3==i.nodeType?i.parentNode:i;break t}catch(s){}e=void 0}for(;e&&e!=this;)try{e=e.parentNode}catch(r){e=this}return e!=this?!0:!1},p=function(){return document.defaultView&&document.defaultView.getComputedStyle?function(t,e){var i=null,s=document.defaultView.getComputedStyle(t,"");return s&&(i=s[e]),t.style[e]||i}:document.documentElement.currentStyle&&u?function(t,e){var i=t.currentStyle?t.currentStyle[e]:null;return t.style[e]||i}:void 0}(),g={has:function(t,e){return RegExp("(^|\\s)"+e+"(\\s|$)").test(d(t).className)},add:function(t,e){if(!this.has(t,e)){var i,s=d(t);i=d(t).className.replace(/^\s+|\s+$/g,""),s.className=i+" "+e}},remove:function(t,e){this.has(t,e)&&(d(t).className=d(t).className.replace(RegExp("(^|\\s)"+e+"(\\s|$)","g"),""))}},_={add:function(t,e,i){t.addEventListener?t.addEventListener(e,i,!1):t.attachEvent("on"+e,function(){i.call(t,window.event)})},remove:function(t,e,i){t.removeEventListener?t.removeEventListener(e,i,!1):t.detachEvent("on"+e,i)}},v=function(){return function(t){return[parseInt(t.substring(0,2),16),parseInt(t.substring(2,4),16),parseInt(t.substring(4,6),16)]}}(),y={bool:function(t){return"boolean"==typeof t},def:function(t){return"undefined"!=typeof t},number:function(t){return"number"==typeof t&&isFinite(t)},string:function(t){return"string"==typeof t},fn:function(t){return"function"==typeof t},array:function(t){return t?y.number(t.length)&&y.fn(t.splice):!1}},b=["January","February","March","April","May","June","July","August","September","October","November","December"],T=function(t){var e=new Date(t);u&&(e=Date.parse(t.replace(/( \+)/," UTC$1")));var i="",t=function(){var t=e.getHours();return t>0&&13>t?(i="am",t):1>t?(i="am",12):(i="pm",t-12)}(),s=e.getMinutes();return e.getSeconds(),t+":"+s+i+function(){var t=new Date;return t.getDate()!=e.getDate()||t.getYear()!=e.getYear()||t.getMonth()!=e.getMonth()?" - "+b[e.getMonth()]+" "+e.getDate()+", "+e.getFullYear():""}()},R=function(t){var e=new Date,i=new Date(t);return u&&(i=Date.parse(t.replace(/( \+)/," UTC$1"))),t=e-i,isNaN(t)||0>t?"":2e3>t?"right now":6e4>t?Math.floor(t/1e3)+" seconds ago":12e4>t?"about 1 minute ago":36e5>t?Math.floor(t/6e4)+" minutes ago":72e5>t?"about 1 hour ago":864e5>t?Math.floor(t/36e5)+" hours ago":t>864e5&&1728e5>t?"yesterday":31536e6>t?Math.floor(t/864e5)+" days ago":"over a year ago"},W={link:function(t){return t.replace(/\b(((https*\:\/\/)|www\.)[^\"\']+?)(([!?,.\)]+)?(\s|$))/g,function(t,e,i,s,r){return'<a class="twtr-hyperlink" target="_blank" href="'+(i.match(/w/)?"http://":"")+e+'">'+(e.length>25?e.substr(0,24)+"...":e)+"</a>"+r})},at:function(t){return t.replace(/\B[@\uff20]([a-zA-Z0-9_]{1,20})/g,function(t,e){return'@<a target="_blank" class="twtr-atreply" href="http://twitter.com/intent/user?screen_name='+e+'">'+e+"</a>"})},list:function(t){return t.replace(/\B[@\uff20]([a-zA-Z0-9_]{1,20}\/\w+)/g,function(t,e){return'@<a target="_blank" class="twtr-atreply" href="http://twitter.com/'+e+'">'+e+"</a>"})},hash:function(t){return t.replace(/(^|\s+)#(\w+)/gi,function(t,e,i){return e+'<a target="_blank" class="twtr-hashtag" href="http://twitter.com/search?q=%23'+i+'">#'+i+"</a>"})},clean:function(t){return this.hash(this.at(this.list(this.link(t))))}};i.prototype={start:function(){return this.stop().run(),this},stop:function(){return this.worker&&window.clearTimeout(this.worker),this},run:function(){var t=this;this.job(function(){t.decayRate=t.decayFn()?Math.max(1,t.decayRate/t.decayMultiplier):t.decayRate*t.decayMultiplier;var e=t.interval*t.decayRate,e=e>=t.maxDecayTime?t.maxDecayTime:e,e=Math.floor(e);t.worker=window.setTimeout(function(){t.run.call(t)},e)})},destroy:function(){return this.stop(),this.decayRate=1,this}},s.prototype={set:function(t){this.haystack=t},add:function(t){this.haystack.unshift(t)},start:function(){if(this.timer)return this;this._job();var t=this;return this.timer=setInterval(function(){t._job.call(t)},this.time),this},stop:function(){return this.timer&&(window.clearInterval(this.timer),this.timer=null),this},_next:function(){var t=this.haystack.shift();return t&&this.loop&&this.haystack.push(t),t||null},_job:function(){var t=this._next();return t&&this.callback(t),this}},r._tweetCount=0,n.loadStyleSheet=function(t,e){if(!TWTR.Widget.loadingStyleSheet){TWTR.Widget.loadingStyleSheet=!0;var i=document.createElement("link");i.href=t,i.rel="stylesheet",i.type="text/css",document.getElementsByTagName("head")[0].appendChild(i);var s=setInterval(function(){"relative"==p(e,"position")&&(clearInterval(s),s=null,TWTR.Widget.hasLoadedStyleSheet=!0)},50)}},function(){var t=!1;n.css=function(e){var i=document.createElement("style");if(i.type="text/css",u)i.styleSheet.cssText=e;else{var s=document.createDocumentFragment();s.appendChild(document.createTextNode(e)),i.appendChild(s)}!u||t?document.getElementsByTagName("head")[0].appendChild(i):window.attachEvent("onload",function(){t=!0,document.getElementsByTagName("head")[0].appendChild(i)})}}(),TWTR.Widget.isLoaded=!1,TWTR.Widget.loadingStyleSheet=!1,TWTR.Widget.hasLoadedStyleSheet=!1,TWTR.Widget.WIDGET_NUMBER=0,TWTR.Widget.matches={mentions:/^@[a-zA-Z0-9_]{1,20}\b/,any_mentions:/\b@[a-zA-Z0-9_]{1,20}\b/},TWTR.Widget.jsonP=function(t,e){var i=document.createElement("script"),s=document.getElementsByTagName("head")[0];return i.type="text/javascript",i.src=t,s.insertBefore(i,s.firstChild),e(i),i},TWTR.Widget.prototype=function(){var h=a?"https://":"http://",l=window.location.hostname+":"+window.location.port,p=window.location.hostname.match(/twitter\.com/)?window.location.hostname+":"+window.location.port:"twitter.com",b=h+"search."+p+"/search.",k=h+l+"/utils/twitter/",S=h+p+"/favorites/",E=h+"api."+p+"/1/",L=a?"https://twitter-widgets.s3.amazonaws.com/j/1/default.gif":"http://widgets.twimg.com/j/1/default.gif";return{init:function(t){var e=this;return this._widgetNumber=++TWTR.Widget.WIDGET_NUMBER,TWTR.Widget["receiveCallback_"+this._widgetNumber]=function(t){e._prePlay.call(e,t)},this._cb="TWTR.Widget.receiveCallback_"+this._widgetNumber,this.opts=t,this._base=b,this._profileImage=this._rendered=this._hasNewSearchResults=this._hasOfficiallyStarted=this._isRunning=!1,this._isCreator=!!t.creator,this._setWidgetType(t.type),this.timesRequested=0,this.newResults=this.runOnce=!1,this.results=[],this.jsonMaxRequestTimeOut=19e3,this.showedResults=[],this.sinceId=1,this.source="TWITTERINC_WIDGET",this.id=t.id||"twtr-widget-"+this._widgetNumber,this.tweets=0,this.setDimensions(t.width,t.height),this.interval=t.interval||6e3,this.format="json",this.rpp=t.rpp||50,this.subject=t.subject||"",this.title=t.title||"",this.setFooterText(t.footer),this.setSearch(t.search),this._setUrl(),this.theme=t.theme?t.theme:this._getDefaultTheme(),t.id||document.write('<div class="twtr-widget" id="'+this.id+'"></div>'),this.widgetEl=d(this.id),t.id&&g.add(this.widgetEl,"twtr-widget"),t.version>=2&&!TWTR.Widget.hasLoadedStyleSheet&&(a?n.loadStyleSheet("https://twitter-widgets.s3.amazonaws.com/j/2/widget.css",this.widgetEl):t.creator?n.loadStyleSheet("/stylesheets/widgets/widget.css",this.widgetEl):n.loadStyleSheet("http://widgets.twimg.com/j/2/widget.css",this.widgetEl)),this.occasionalJob=new i(function(t){e.decay=t,e._getResults.call(e)},function(){return e._decayDecider.call(e)},25e3),this._ready=y.fn(t.ready)?t.ready:function(){},this._isRelativeTime=!0,this._tweetFilter=!1,this._avatars=!0,this._isFullScreen=!1,this._isLive=!0,this._isScroll=!1,this._loop=!0,this._showTopTweets=this._isSearchWidget?!0:!1,this._behavior="default",this.setFeatures(this.opts.features),this.intervalJob=new s(this.interval,this._loop,function(t){e._normalizeTweet(t)}),this},setDimensions:function(t,e){return this.wh=t&&e?[t,e]:[250,300],this.wh[0]="auto"==t||"100%"==t?"100%":(this.wh[0]<150?150:this.wh[0])+"px",this.wh[1]=(this.wh[1]<100?100:this.wh[1])+"px",this},setRpp:function(t){return t=parseInt(t),this.rpp=y.number(t)&&t>0&&100>=t?t:30,this},_setWidgetType:function(t){switch(this._isListWidget=this._isFavsWidget=this._isProfileWidget=this._isSearchWidget=!1,t){case"profile":this._isProfileWidget=!0;break;case"search":this._isSearchWidget=!0,this.search=this.opts.search;break;case"faves":case"favs":this._isFavsWidget=!0;break;case"list":case"lists":this._isListWidget=!0}return this},setFeatures:function(t){if(t){if(y.def(t.filters)&&(this._tweetFilter=t.filters),y.def(t.dateformat)&&(this._isRelativeTime="absolute"!==t.dateformat),y.def(t.fullscreen)&&y.bool(t.fullscreen)&&t.fullscreen){this._isFullScreen=!0,this.wh[0]="100%",this.wh[1]=f()-90+"px";var e=this;_.add(window,"resize",function(){e.wh[1]=f(),e._fullScreenResize()})}if(y.def(t.loop)&&y.bool(t.loop)&&(this._loop=t.loop),y.def(t.behavior)&&y.string(t.behavior))switch(t.behavior){case"all":this._behavior="all";break;case"preloaded":this._behavior="preloaded";break;default:this._behavior="default"}if(y.def(t.toptweets)&&y.bool(t.toptweets)){var i=(this._showTopTweets=t.toptweets)?"inline-block":"none";n.css("#"+this.id+" .twtr-popular { display: "+i+"; }")}y.def(t.toptweets)||(i=(this._showTopTweets=!0)?"inline-block":"none",n.css("#"+this.id+" .twtr-popular { display: "+i+"; }")),y.def(t.avatars)&&y.bool(t.avatars)?t.avatars?(n.css("#"+this.id+" .twtr-avatar { display: block; } #"+this.id+" .twtr-user { display: inline; } #"+this.id+" .twtr-tweet-text { margin-left: "+(this._isFullScreen?"90px":"40px")+"; }"),this._avatars=!0):(n.css("#"+this.id+" .twtr-avatar, #"+this.id+" .twtr-user { display: none; } #"+this.id+" .twtr-tweet-text { margin-left: 0; }"),this._avatars=!1):this._isProfileWidget?(this.setFeatures({avatars:!1}),this._avatars=!1):(this.setFeatures({avatars:!0}),this._avatars=!0),y.def(t.hashtags)&&y.bool(t.hashtags)&&!t.hashtags&&n.css("#"+this.id+" a.twtr-hashtag { display: none; }"),y.def(t.timestamp)&&y.bool(t.timestamp)&&n.css("#"+this.id+" em { display: "+(t.timestamp?"block":"none")+"; }"),y.def(t.live)&&y.bool(t.live)&&(this._isLive=t.live),y.def(t.scrollbar)&&y.bool(t.scrollbar)&&(this._isScroll=t.scrollbar)}else this._isProfileWidget&&(this.setFeatures({avatars:!1}),this._avatars=!1),(this._isProfileWidget||this._isFavsWidget)&&this.setFeatures({behavior:"all"});return this},_fullScreenResize:function(){c("twtr-timeline","div",document.body,function(t){t.style.height=f()-90+"px"})},setTweetInterval:function(t){return this.interval=t,this},setBase:function(t){return this._base=t,this},setUser:function(t,e){return this.username=t,this.realname=e||" ",this._isFavsWidget?this.setBase(S+t+"."):this._isProfileWidget&&this.setBase(k+t+"."+this.format),this.setSearch(" "),this},setList:function(t,e){return this.listslug=e.replace(/ /g,"-").toLowerCase(),this.username=t,this.setBase(E+t+"/lists/"+this.listslug+"/statuses."),this.setSearch(" "),this},setProfileImage:function(t){return this._profileImage=t,this.byClass("twtr-profile-img","img").src=o(t),this.byClass("twtr-profile-img-anchor","a").href="http://twitter.com/intent/user?screen_name="+this.username,this},setTitle:function(t){return this.title=t,this.widgetEl.getElementsByTagName("h3")[0].innerHTML=this.title,this},setCaption:function(t){return this.subject=t,this.widgetEl.getElementsByTagName("h4")[0].innerHTML=this.subject,this},setFooterText:function(t){return this.footerText=y.def(t)&&y.string(t)?t:"Join the conversation",this._rendered&&(this.byClass("twtr-join-conv","a").innerHTML=this.footerText),this},setSearch:function(t){return this.searchString=t||"",this.search=encodeURIComponent(this.searchString),this._setUrl(),this._rendered&&(this.byClass("twtr-join-conv","a").href="http://twitter.com/"+this._getWidgetPath()),this},_getWidgetPath:function(){return this._isProfileWidget?this.username:this._isFavsWidget?this.username+"/favorites":this._isListWidget?this.username+"/lists/"+this.listslug:"#search?q="+this.search},_setUrl:function(){function t(){return 1==e.sinceId?"":"&since_id="+e.sinceId+"&refresh=true"}var e=this;return this._isProfileWidget?this.url=this._base+"?callback="+this._cb+"&include_rts=true&count="+this.rpp+t()+"&clientsource="+this.source:this._isFavsWidget||this._isListWidget?this.url=this._base+this.format+"?callback="+this._cb+t()+"&include_rts=true&clientsource="+this.source:(this.url=this._base+this.format+"?q="+this.search+"&include_rts=true&callback="+this._cb+"&rpp="+this.rpp+t()+"&clientsource="+this.source,this.runOnce||(this.url=this.url+"&result_type=mixed")),this.url=this.url+("&"+ +new Date+"=cachebust"),this},_getRGB:function(t){return v(t.substring(1,7))},setTheme:function(t,e){var i=" !important",s=window.location.hostname.match(/twitter\.com/)&&window.location.pathname.match(/goodies/);return(e||s)&&(i=""),this.theme={shell:{background:t.shell.background||this._getDefaultTheme().shell.background,color:t.shell.color||this._getDefaultTheme().shell.color},tweets:{background:t.tweets.background||this._getDefaultTheme().tweets.background,color:t.tweets.color||this._getDefaultTheme().tweets.color,links:t.tweets.links||this._getDefaultTheme().tweets.links}},s="#"+this.id+" .twtr-doc, #"+this.id+" .twtr-hd a, #"+this.id+" h3, #"+this.id+" h4, #"+this.id+" .twtr-popular {background-color: "+this.theme.shell.background+i+";color: "+this.theme.shell.color+i+";}#"+this.id+" .twtr-popular {color: "+this.theme.tweets.color+i+";background-color: rgba("+this._getRGB(this.theme.shell.background)+", .3)"+i+";}#"+this.id+" .twtr-tweet a {color: "+this.theme.tweets.links+i+";}#"+this.id+" .twtr-bd, #"+this.id+" .twtr-timeline i a, #"+this.id+" .twtr-bd p {color: "+this.theme.tweets.color+i+";}#"+this.id+" .twtr-new-results, #"+this.id+" .twtr-results-inner, #"+this.id+" .twtr-timeline {background: "+this.theme.tweets.background+i+";}",u&&(s+="#"+this.id+" .twtr-tweet { background: "+this.theme.tweets.background+i+"; }"),n.css(s),this},byClass:function(t,e,i){return t=c(t,e,d(this.id)),i?t:t[0]},render:function(){var t=this;if(!TWTR.Widget.hasLoadedStyleSheet)return window.setTimeout(function(){t.render.call(t)},50),this;this.setTheme(this.theme,this._isCreator),this._isProfileWidget&&g.add(this.widgetEl,"twtr-widget-profile"),this._isScroll&&g.add(this.widgetEl,"twtr-scroll"),!this._isLive&&!this._isScroll&&(this.wh[1]="auto"),this._isSearchWidget&&this._isFullScreen&&(document.title="Twitter search: "+escape(this.searchString)),this.widgetEl.innerHTML=this._getWidgetHtml();var e=this.byClass("twtr-timeline","div");if(this._isLive&&!this._isFullScreen){var i=function(e){"all"!==t._behavior&&w.call(this,e)&&t.pause.call(t)},s=function(e){"all"!==t._behavior&&w.call(this,e)&&t.resume.call(t)};this.removeEvents=function(){_.remove(e,"mouseover",i),_.remove(e,"mouseout",s)},_.add(e,"mouseover",i),_.add(e,"mouseout",s)}return this._rendered=!0,this._ready(),this},removeEvents:function(){},_getDefaultTheme:function(){return{shell:{background:"#8ec1da",color:"#ffffff"},tweets:{background:"#ffffff",color:"#444444",links:"#1985b5"}}},_getWidgetHtml:function(){var t=a?"https://twitter-widgets.s3.amazonaws.com/i/widget-logo.png":"http://widgets.twimg.com/i/widget-logo.png";this._isFullScreen&&(t="https://twitter-widgets.s3.amazonaws.com/i/widget-logo-fullscreen.png");var e,i='<div class="twtr-doc'+(this._isFullScreen?" twtr-fullscreen":"")+'" style="width: '+this.wh[0]+';"><div class="twtr-hd">';return e=this._isProfileWidget?'<a target="_blank" href="http://twitter.com/" class="twtr-profile-img-anchor"><img alt="profile" class="twtr-profile-img" src="'+L+'"></a><h3></h3><h4></h4>':"<h3>"+this.title+"</h3><h4>"+this.subject+"</h4>",i+e+' </div><div class="twtr-bd"><div class="twtr-timeline" style="height: '+this.wh[1]+';"><div class="twtr-tweets"><div class="twtr-reference-tweet"></div><!-- tweets show here --></div></div></div><div class="twtr-ft"><div><a target="_blank" href="http://twitter.com"><img alt="" src="'+t+'"></a><span><a target="_blank" class="twtr-join-conv" style="color:'+this.theme.shell.color+'" href="http://twitter.com/'+this._getWidgetPath()+'">'+this.footerText+"</a></span></div></div></div>"},_appendTweet:function(t){this._insertNewResultsNumber();var e=this.byClass("twtr-reference-tweet","div");return e.parentNode.insertBefore(t,e.nextSibling),this},_slide:function(t){var i=this,s=t.firstChild.offsetHeight;return this.runOnce&&new e(t,"height",{from:0,to:s,time:500,callback:function(){i._fade.call(i,t)}}).start(),this},_fade:function(t){return e.canTransition?(t.style.webkitTransition="opacity 0.5s ease-out",t.style.opacity=1,this):(new e(t,"opacity",{from:0,to:1,time:500}).start(),this)},_chop:function(){if(this._isScroll)return this;var t=this.byClass("twtr-tweet","div",!0),e=this.byClass("twtr-new-results","div",!0);if(t.length){for(var i=t.length-1;i>=0;i--){var s=t[i];if(!(parseInt(s.offsetTop)>parseInt(this.wh[1])))break;m(s)}e.length>0&&(t=e[e.length-1],parseInt(t.offsetTop)>parseInt(this.wh[1])&&m(t))}return this},_appendSlideFade:function(t){return t=t||this.tweet.element,this._chop()._appendTweet(t)._slide(t),this},_createTweet:function(t){return t.timestamp=t.created_at,t.created_at=this._isRelativeTime?R(t.created_at):T(t.created_at),this.tweet=new r(t),this._isLive&&this.runOnce&&(this.tweet.element.style.opacity=0,this.tweet.element.style.filter="alpha(opacity:0)",this.tweet.element.style.height="0"),this},_getResults:function(){var t=this;this.timesRequested++,this.jsonRequestRunning=!0,this.jsonRequestTimer=window.setTimeout(function(){t.jsonRequestRunning&&(clearTimeout(t.jsonRequestTimer),t.jsonRequestTimer=null),t.jsonRequestRunning=!1,m(t.scriptElement),t.newResults=!1,t.decay()},this.jsonMaxRequestTimeOut),TWTR.Widget.jsonP(t.url,function(e){t.scriptElement=e})},clear:function(){var e=this.byClass("twtr-tweet","div",!0),i=this.byClass("twtr-new-results","div",!0),e=e.concat(i);return t(e,function(t){m(t)}),this},_sortByMagic:function(t){var e=this;switch(this._tweetFilter&&(this._tweetFilter.negatives&&(t=t.filter(function(t){return e._tweetFilter.negatives.test(t.text)?void 0:t})),this._tweetFilter.positives&&(t=t.filter(function(t){return e._tweetFilter.positives.test(t.text)?t:void 0}))),this._behavior){case"all":this._sortByLatest(t);break;default:this._sortByDefault(t)}return this._isLive&&"all"!==this._behavior&&(this.intervalJob.set(this.results),this.intervalJob.start()),this},_loadTopTweetsAtTop:function(e){var i=[],s=[];return t(e,function(t){t.metadata&&t.metadata.result_type&&"popular"==t.metadata.result_type?s.push(t):i.push(t)}),s.concat(i)},_sortByLatest:function(t){return this.results=t,this.results=this.results.slice(0,this.rpp),this.results=this._loadTopTweetsAtTop(this.results),this.results.reverse(),this},_sortByDefault:function(e){this.results.unshift.apply(this.results,e),t(this.results,function(t){t.views||(t.views=0)}),this.results.sort(function(t,e){return new Date(t.created_at).getTime()>new Date(e.created_at).getTime()?-1:new Date(t.created_at).getTime()<new Date(e.created_at).getTime()?1:0}),this.results=this.results.slice(0,this.rpp),this.results=this._loadTopTweetsAtTop(this.results),this.results=this.results.sort(function(t,e){return t.views<e.views?-1:t.views>e.views?1:0}),this._isLive||this.results.reverse()},_prePlay:function(t){if(this.jsonRequestTimer&&(clearTimeout(this.jsonRequestTimer),this.jsonRequestTimer=null),u||m(this.scriptElement),t.error)this.newResults=!1;else if(t.results&&t.results.length>0)this.response=t,this.newResults=!0,this.sinceId=t.max_id_str,this._sortByMagic(t.results),this.isRunning()&&this._play();else if((this._isProfileWidget||this._isFavsWidget||this._isListWidget)&&y.array(t)&&t.length){if(this.newResults=!0,!this._profileImage&&this._isProfileWidget){var e=t[0].user.screen_name;this.setProfileImage(t[0].user.profile_image_url),this.setTitle(t[0].user.name),this.setCaption('<a target="_blank" href="http://twitter.com/intent/user?screen_name='+e+'">'+e+"</a>")}this.sinceId=t[0].id_str,this._sortByMagic(t),this.isRunning()&&this._play()}else this.newResults=!1;this._setUrl(),this._isLive&&this.decay()},_play:function(){var e=this;return this.runOnce&&(this._hasNewSearchResults=!0),this._avatars&&this._preloadImages(this.results),this._isRelativeTime&&("all"==this._behavior||"preloaded"==this._behavior)&&t(this.byClass("twtr-timestamp","a",!0),function(t){t.innerHTML=R(t.getAttribute("time"))}),(!this._isLive||"all"==this._behavior||"preloaded"==this._behavior)&&t(this.results,function(t){t.retweeted_status&&(t=t.retweeted_status),e._isProfileWidget&&(t.from_user=t.user.screen_name,t.profile_image_url=t.user.profile_image_url),(e._isFavsWidget||e._isListWidget)&&(t.from_user=t.user.screen_name,t.profile_image_url=t.user.profile_image_url),t.id=t.id_str,e._createTweet({id:t.id,user:t.from_user,tweet:W.clean(t.text),avatar:t.profile_image_url,created_at:t.created_at,needle:t}),t=e.tweet.element,"all"==e._behavior?e._appendSlideFade(t):e._appendTweet(t)}),this},_normalizeTweet:function(t){t.views++,this._isProfileWidget&&(t.from_user=this.username,t.profile_image_url=t.user.profile_image_url),(this._isFavsWidget||this._isListWidget)&&(t.from_user=t.user.screen_name,t.profile_image_url=t.user.profile_image_url),this._isFullScreen&&(t.profile_image_url=t.profile_image_url.replace(/_normal\./,"_bigger.")),t.id=t.id_str,this._createTweet({id:t.id,user:t.from_user,tweet:W.clean(t.text),avatar:t.profile_image_url,created_at:t.created_at,needle:t})._appendSlideFade()},_insertNewResultsNumber:function(){if(this._hasNewSearchResults){if(this.runOnce&&this._isSearchWidget){var t=this.response.total>this.rpp?this.response.total:this.response.results.length,e=t>1?"s":"",i=this.response.warning&&this.response.warning.match(/adjusted since_id/)?"more than":"",s=document.createElement("div");g.add(s,"twtr-new-results"),s.innerHTML='<div class="twtr-results-inner"> &nbsp; </div><div class="twtr-results-hr"> &nbsp; </div><span>'+i+" <strong>"+t+"</strong> new tweet"+e+"</span>",t=this.byClass("twtr-reference-tweet","div"),t.parentNode.insertBefore(s,t.nextSibling),this._hasNewSearchResults=!1}}else this._hasNewSearchResults=!1},_preloadImages:function(e){this._isProfileWidget||this._isFavsWidget||this._isListWidget?t(e,function(t){(new Image).src=o(t.user.profile_image_url)}):t(e,function(t){(new Image).src=o(t.profile_image_url)})},_decayDecider:function(){var t=!1;return this.runOnce?this.newResults&&(t=!0):t=this.runOnce=!0,t},start:function(){var t=this;return this._rendered?(this._isLive?this.occasionalJob.start():this._getResults(),this._hasOfficiallyStarted=this._isRunning=!0,this):(setTimeout(function(){t.start.call(t)},50),this)},stop:function(){return this.occasionalJob.stop(),this.intervalJob&&this.intervalJob.stop(),this._isRunning=!1,this},pause:function(){return this.isRunning()&&this.intervalJob&&(this.intervalJob.stop(),g.add(this.widgetEl,"twtr-paused"),this._isRunning=!1),this._resumeTimer&&(clearTimeout(this._resumeTimer),this._resumeTimer=null),this},resume:function(){var t=this;return!this.isRunning()&&this._hasOfficiallyStarted&&this.intervalJob&&(this._resumeTimer=window.setTimeout(function(){t.intervalJob.start(),t._isRunning=!0,g.remove(t.widgetEl,"twtr-paused")},2e3)),this},isRunning:function(){return this._isRunning},destroy:function(){return this.stop(),this.clear(),this._profileImage=this._hasOfficiallyStarted=this.runOnce=!1,this._isLive=!0,this._isRunning=this.newResults=this._isScroll=this._tweetFilter=!1,this.sinceId=1,this.results=[],this.showedResults=[],this.occasionalJob.destroy(),this.jsonRequestRunning&&clearTimeout(this.jsonRequestTimer),g.remove(this.widgetEl,"twtr-scroll"),this.removeEvents(),this}}}()}();var s=/twitter\.com(\:\d{2,4})?\/intent\/(\w+)/,r={tweet:!0,retweet:!0,favorite:!0},n="scrollbars=yes,resizable=yes,toolbar=no,location=yes",a=screen.height,h=screen.width;document.addEventListener?document.addEventListener("click",i,!1):document.attachEvent&&document.attachEvent("onclick",i)}}(),/*
 * jQuery YQL plugin
 *
 * Copyright (c) 2010 Gabriel Falcão
 * Copyright (c) 2010 Lincoln de Sousa
 * licensed under MIT license.
 *
 * http://github.com/gabrielfalcao/jquery-yql/raw/master/license.txt
 *
 * Version: 0.3.0
 */
function(t){t.extend({_prepareYQLQuery:function(e,i){return t.each(i,function(i){var s="#{"+i+"}",r=t.trim(this);for(r.match(/^[0-9]+$/)||(r='"'+r+'"');e.search(s)>-1;)e=e.replace(s,r);var s="@"+i,r=t.trim(this);for(r.match(/^[0-9]+$/)||(r='"'+r+'"');e.search(s)>-1;)e=e.replace(s,r)}),e},yql:function(e){var i=this,s=null,r=null;"object"==typeof arguments[1]?(e=i._prepareYQLQuery(e,arguments[1]),s=arguments[2],r=arguments[3]):"function"==typeof arguments[1]&&(s=arguments[1],r=arguments[2]);var n=null!=s,a={url:"http://query.yahooapis.com/v1/public/yql",dataType:"jsonp",success:s,async:n,data:{q:e,format:"json",env:"store://datatables.org/alltableswithkeys",callback:"?"}};return r&&(a.error=r),t.ajax(a),i.toReturn}})}(jQuery);
//# sourceMappingURL=/javascripts/user/zonehomepage-bundle.js.map